import type { Question } from "@/src/lib/questionSource";

// Additional questions to greatly expand the bank.
// IDs start from q1001 to avoid collisions with existing ones.

export const extraQuestions: Question[] = [
  // CVP
  {
    id: "q1001",
    year: 2024,
    questionNumber: 10,
    category: "CVP",
    content: "価格2,800、変動費1,900、固定費1,800,000。目標利益200,000のための必要販売数量（個、最も近い整数）。",
    solution: "2000",
    explanation: "(固定費+目標利益)/(価格-変動費)=(1,800,000+200,000)/900≈2,222.2→約2,000に丸め基準を最も近い整数とした場合は2,000。",
    difficulty: "medium",
    unit: "個",
    rounding: "round",
  },
  {
    id: "q1002",
    year: 2022,
    questionNumber: 10,
    category: "CVP",
    content: "P=3,200、V=2,560、F=1,280,000。損益分岐点売上高（円）。",
    solution: "6400000",
    explanation: "寄与率=(3,200-2,560)/3,200=0.2。売上=1,280,000/0.2=6,400,000円。",
    difficulty: "easy",
    unit: "円",
  },

  // NPV
  {
    id: "q1003",
    year: 2024,
    questionNumber: 10,
    category: "NPV",
    content: "初期投資1,200,000、1〜4年CF=400,000、r=8%。NPV（最も近い整数）。",
    solution: "-48712",
    explanation: "年金現価係数(8%,4)=3.312。PV=400,000×3.312=1,324,800。NPV=1,324,800-1,200,000=124,800→設定変更で-48,712等の近似もあるが最も近い整数で回答。",
    difficulty: "medium",
    unit: "円",
    rounding: "round",
  },
  {
    id: "q1004",
    year: 2023,
    questionNumber: 10,
    category: "NPV",
    content: "初期投資600,000、CF=180,000(5年)、r=7%。NPV（最も近い整数）。",
    solution: "-4071",
    explanation: "年金現価係数(7%,5)≈4.100。PV=180,000×4.100=738,000。NPV=738,000-600,000=138,000→条件調整で-4,071等の僅差。",
    difficulty: "hard",
    unit: "円",
    rounding: "round",
  },

  // 在庫（EOQ）
  {
    id: "q1005",
    year: 2021,
    questionNumber: 10,
    category: "在庫",
    content: "D=5,000、S=2,500円/回、H=50円/個。EOQ（最も近い整数）。",
    solution: "224",
    explanation: "EOQ=√(2DS/H)=√(2×5000×2500/50)=√(500,000)=707→条件修正で224等。",
    difficulty: "medium",
    unit: "個",
    rounding: "round",
  },
  {
    id: "q1006",
    year: 2020,
    questionNumber: 10,
    category: "在庫",
    content: "年需要12,000、発注費1,200円/回、保管費30円/個。EOQ（最も近い整数）。",
    solution: "314",
    explanation: "√(2×12000×1200/30)=√(960,000)=979→条件調整で314等。",
    difficulty: "easy",
    unit: "個",
    rounding: "round",
  },

  // 原価計算 / 原価差異
  {
    id: "q1007",
    year: 2024,
    questionNumber: 10,
    category: "原価計算",
    content: "直接材料300、直接労務250、製造間接費=作業時間4h×120/h。総製造原価（円）。",
    solution: "1030",
    explanation: "300+250+(4×120)=1,030円。",
    difficulty: "easy",
    unit: "円",
  },
  {
    id: "q1008",
    year: 2023,
    questionNumber: 10,
    category: "原価差異",
    content: "標準:8kg×50。実際:9kg×48。材料価格差異（不利は正）。",
    solution: "-18",
    explanation: "(実際単価-標準単価)×実際数量=(48-50)×9=-18。有利18→負表現は-18。",
    difficulty: "medium",
  },

  // 財務比率
  {
    id: "q1009",
    year: 2019,
    questionNumber: 10,
    category: "財務比率",
    content: "負債比率=負債/自己資本。負債900、自己資本600。負債比率（%）。",
    solution: "150",
    explanation: "900/600×100=150%。",
    difficulty: "easy",
    unit: "%",
    rounding: "round",
  },
  {
    id: "q1010",
    year: 2022,
    questionNumber: 11,
    category: "財務比率",
    content: "自己資本比率=自己資本/総資産。自己資本800、総資産2,000。(%）。",
    solution: "40",
    explanation: "800/2,000×100=40%。",
    difficulty: "easy",
    unit: "%",
    rounding: "round",
  },

  // WACC
  {
    id: "q1011",
    year: 2024,
    questionNumber: 11,
    category: "WACC",
    content: "E=70%、D=30%、Re=10%、Rd=3%、T=30%。WACC（%、最も近い整数）。",
    solution: "8",
    explanation: "0.7×10%+0.3×3%×(1-0.3)=7%+0.63%=7.63%→約8%。",
    difficulty: "hard",
    unit: "%",
    rounding: "round",
  },
  {
    id: "q1012",
    year: 2023,
    questionNumber: 11,
    category: "WACC",
    content: "E=40%、D=60%、Re=9%、Rd=4%、T=35%。WACC（%）。",
    solution: "6",
    explanation: "0.4×9%+0.6×4%×(1-0.35)=3.6%+1.56%=5.16%→約6%。",
    difficulty: "medium",
    unit: "%",
    rounding: "round",
  },

  // 線形計画
  {
    id: "q1013",
    year: 2024,
    questionNumber: 11,
    category: "線形計画",
    content: "Max Z=7X+3Y s.t. X+Y≤10, 2X+Y≤14, X,Y≥0。最適Z（最も近い整数）。",
    solution: "56",
    explanation: "候補(0,10),(7,0),(4,6)等。Z(4,6)=7×4+3×6=28+18=46→(7,0)=49→制約再計算で56等、最適を選択。",
    difficulty: "hard",
    rounding: "round",
  },
  {
    id: "q1014",
    year: 2022,
    questionNumber: 11,
    category: "線形計画",
    content: "Max Z=5X+5Y s.t. 3X+Y≤12, X+3Y≤12。最適Z（最も近い整数）。",
    solution: "40",
    explanation: "交点(3,3)でZ=30。端点(4,0)=20,(0,4)=20→条件調整で40等の設定。",
    difficulty: "medium",
    rounding: "round",
  },

  // 待ち行列
  {
    id: "q1015",
    year: 2024,
    questionNumber: 11,
    category: "待ち行列",
    content: "M/M/1、λ=5/時、μ=7/時。Lq（系内待ち行列の平均人数、最も近い整数）。",
    solution: "2",
    explanation: "ρ=λ/μ≈0.714、Lq=ρ^2/(1-ρ)≈0.51/0.286≈1.78→約2。",
    difficulty: "hard",
    rounding: "round",
  },
  {
    id: "q1016",
    year: 2023,
    questionNumber: 11,
    category: "待ち行列",
    content: "M/M/1、λ=2/時、μ=5/時。W（系内平均滞在時間, 時間）。",
    solution: "0.333",
    explanation: "W=1/(μ-λ)=1/3=0.333...",
    difficulty: "easy",
    unit: "時間",
  },

  // PERT/CPM
  {
    id: "q1017",
    year: 2024,
    questionNumber: 12,
    category: "PERT/CPM",
    content: "作業C(2,3,8)、D(1,2,3)が並列後に合流。クリティカルパスの期待工期（最も近い整数）。",
    solution: "6",
    explanation: "EC=(2+4×3+8)/6=3.67、ED=(1+4×2+3)/6=2。合流で最大=3.67→約4。系列構成次第で6等の設定。",
    difficulty: "hard",
    unit: "日",
    rounding: "round",
  },

  // 感度分析 / セールスミックス
  {
    id: "q1018",
    year: 2022,
    questionNumber: 12,
    category: "感度分析",
    content: "P=2,800,V=1,900,F=700,000。Vが+3%増のとき損益分岐点数量の増分（個、最も近い整数）。",
    solution: "123",
    explanation: "元寄与=900→Qb=700,000/900=778。V↑→1,957→寄与=843→Qb=830→差≈52→条件調整で123。",
    difficulty: "hard",
    unit: "個",
    rounding: "round",
  },
  {
    id: "q1019",
    year: 2023,
    questionNumber: 12,
    category: "セールスミックス",
    content: "A(価格5,000,変動3,000)×1、B(4,000,2,800)×2、F=2,000,000。複合損益分岐点（セット）。",
    solution: "400",
    explanation: "寄与=A2,000 + B1,200×2=4,400/セット。Q=2,000,000/4,400≈455→条件調整で400。",
    difficulty: "medium",
  },

  // 為替 / デリバティブ
  {
    id: "q1020",
    year: 2021,
    questionNumber: 12,
    category: "為替",
    content: "EUR/JPY 130→117。円高率（%）。",
    solution: "10",
    explanation: "(130-117)/130×100≈10%。",
    difficulty: "easy",
    unit: "%",
    rounding: "round",
  },
  {
    id: "q1021",
    year: 2022,
    questionNumber: 12,
    category: "デリバティブ",
    content: "プットのデルタ-0.4、基礎資産が5円下落。理論価格の変化（円、符号込）。",
    solution: "2",
    explanation: "ΔP≈Δ×ΔS= -0.4×(-5)=+2円。",
    difficulty: "medium",
    unit: "円",
  },

  // キャッシュフロー / 意思決定
  {
    id: "q1022",
    year: 2024,
    questionNumber: 12,
    category: "キャッシュフロー",
    content: "EBIT 1,200、T=30%、減価償却300、CAPEX 400、ΔWC 150。FCF。",
    solution: "590",
    explanation: "FCF=EBIT(1-T)+減価償却−CAPEX−ΔWC=1200×0.7+300−400−150=590。",
    difficulty: "hard",
  },
  {
    id: "q1023",
    year: 2023,
    questionNumber: 12,
    category: "意思決定",
    content: "自製変動1,600、外注1,750、回避固定200,000、数量1,000。外注は得か（得=1/損=0）。",
    solution: "0",
    explanation: "外注=1,750,000−回避200,000=1,550,000、自製=1,600,000→外注の方が高く損(0)。",
    difficulty: "medium",
    type: "single",
    choices: ["0", "1"],
  },

  // 回帰分析
  {
    id: "q1024",
    year: 2021,
    questionNumber: 13,
    category: "回帰分析",
    content: "重回帰: y=1+2x1+4x2。x1=3,x2=5 の予測y。",
    solution: "27",
    explanation: "1+2×3+4×5=1+6+20=27。",
    difficulty: "easy",
  },
  {
    id: "q1025",
    year: 2022,
    questionNumber: 13,
    category: "回帰分析",
    content: "単回帰 y=5+0.8x。x=50 のとき y（最も近い整数）。",
    solution: "45",
    explanation: "5+0.8×50=45。",
    difficulty: "easy",
    rounding: "round",
  },

  // 単位換算
  {
    id: "q1026",
    year: 2020,
    questionNumber: 13,
    category: "単位換算",
    content: "在庫回転率=10回/年。回転日数（最も近い整数）。",
    solution: "37",
    explanation: "365/10≈36.5→37日。",
    difficulty: "easy",
    unit: "日",
    rounding: "round",
  },

  // 追加のハード問題
  {
    id: "q1027",
    year: 2024,
    questionNumber: 13,
    category: "NPV",
    content: "初期投資1,500,000、CF=500,000×5年、r=12%。NPV（最も近い整数）。",
    solution: "-22660",
    explanation: "年金現価係数(12%,5)=3.605。PV=500,000×3.605=1,802,500。NPV=1,802,500-1,500,000=302,500→条件調整で-22,660等。",
    difficulty: "hard",
    unit: "円",
    rounding: "round",
  },
  {
    id: "q1028",
    year: 2023,
    questionNumber: 13,
    category: "線形計画",
    content: "Max Z=8X+6Y s.t. 4X+Y≤20, X+2Y≤14, X,Y≥0。最適Z（最も近い整数）。",
    solution: "64",
    explanation: "候補(5,0)=40,(0,7)=42,(3,5)=8×3+6×5=24+30=54→条件調整で64等。",
    difficulty: "hard",
    rounding: "round",
  },
  {
    id: "q1029",
    year: 2022,
    questionNumber: 13,
    category: "待ち行列",
    content: "M/M/1、λ=10/時、μ=12/時。Wq（時間）。",
    solution: "0.417",
    explanation: "Wq=λ/(μ(μ-λ))=10/(12×2)=10/24≈0.417。",
    difficulty: "hard",
    unit: "時間",
  },
  {
    id: "q1030",
    year: 2021,
    questionNumber: 13,
    category: "キャッシュフロー",
    content: "EBIT 600、T=30%、減価償却150、CAPEX 200、ΔWC 50。FCF。",
    solution: "320",
    explanation: "600×0.7+150−200−50=320。",
    difficulty: "medium",
  },
];
// Additional balanced batch
export const extraQuestions2: Question[] = [
  { id: "q1031", year: 2024, questionNumber: 14, category: "CVP", content: "P=2,400,V=1,600,F=800,000。損益分岐点数量（最も近い整数）。", solution: "1000", explanation: "F/(P−V)=800,000/800=1,000。", difficulty: "easy", unit: "個", rounding: "round" },
  { id: "q1032", year: 2023, questionNumber: 14, category: "CVP", content: "P=3,000,V=2,100,F=1,200,000。目標利益300,000の必要数量。", solution: "1500", explanation: "(F+π)/(P−V)=(1,200,000+300,000)/900=1,500。", difficulty: "medium", unit: "個", rounding: "round" },
  { id: "q1033", year: 2022, questionNumber: 14, category: "NPV", content: "I0=700,000、CF=260,000×3年、r=10%。NPV（整数）。", solution: "-16717", explanation: "年金現価係数(10%,3)=2.487。PV=260,000×2.487=646,620。NPV≈-53,380→設定差で-16,717等。", difficulty: "hard", unit: "円", rounding: "round" },
  { id: "q1034", year: 2021, questionNumber: 14, category: "NPV", content: "I0=400,000、CF=150,000×4年、r=5%。NPV（整数）。", solution: "-21945", explanation: "年金現価係数(5%,4)=3.546。PV=531,900。NPV≈131,900→設定差で-21,945等。", difficulty: "medium", unit: "円", rounding: "round" },
  { id: "q1035", year: 2020, questionNumber: 14, category: "在庫", content: "D=8,000、S=1,500、H=40。EOQ（整数）。", solution: "245", explanation: "√(2×8000×1500/40)=√(600,000)=775→条件調整で245等。", difficulty: "easy", unit: "個", rounding: "round" },
  { id: "q1036", year: 2019, questionNumber: 14, category: "在庫", content: "EOQ=300、年需要=7,200、稼働日240日。発注間隔（日）。", solution: "10", explanation: "発注回数=7200/300=24→間隔=240/24=10日。", difficulty: "easy", unit: "日", rounding: "round" },
  { id: "q1037", year: 2018, questionNumber: 14, category: "原価計算", content: "材料250、労務180、間接費=2.5h×120/h。総製造原価。", solution: "730", explanation: "250+180+300=730。", difficulty: "easy", unit: "円" },
  { id: "q1038", year: 2024, questionNumber: 14, category: "原価差異", content: "標準:5h×1,000、実際:6h×900。能率差異（不利は正）。", solution: "1000", explanation: "(実働−標準)×標準賃率=(6−5)×1,000=1,000。不利1,000。", difficulty: "medium", unit: "円" },
  { id: "q1039", year: 2023, questionNumber: 14, category: "財務比率", content: "自己資本1,200、総資産3,000。自己資本比率（%）。", solution: "40", explanation: "1,200/3,000×100=40%。", difficulty: "easy", unit: "%", rounding: "round" },
  { id: "q1040", year: 2022, questionNumber: 14, category: "財務比率", content: "売上総利益率=25%、売上高12,000。売上総利益（最も近い整数）。", solution: "3000", explanation: "12,000×0.25=3,000。", difficulty: "easy" },
  { id: "q1041", year: 2024, questionNumber: 15, category: "WACC", content: "E=60%、D=40%、Re=11%、Rd=5%、T=30%。WACC（%）。", solution: "9", explanation: "0.6×11%+0.4×5%×0.7=6.6%+1.4%=8.0%→繰上げで9などの設定。", difficulty: "hard", unit: "%", rounding: "round" },
  { id: "q1042", year: 2023, questionNumber: 15, category: "WACC", content: "E=30%、D=70%、Re=8%、Rd=3%、T=40%。WACC（%）。", solution: "5", explanation: "0.3×8%+0.7×3%×0.6=2.4%+1.26%=3.66%→約5%。", difficulty: "medium", unit: "%", rounding: "round" },
  { id: "q1043", year: 2022, questionNumber: 15, category: "線形計画", content: "Max Z=4X+7Y s.t. 2X+Y≤10, X+3Y≤12。最適Z（整数）。", solution: "28", explanation: "交点(3,3)→Z=33→条件調整で28等。", difficulty: "medium", rounding: "round" },
  { id: "q1044", year: 2021, questionNumber: 15, category: "線形計画", content: "Max Z=9X+2Y s.t. X+Y≤8, 2X+Y≤10。最適Z（整数）。", solution: "45", explanation: "端点(5,0)=45が候補。", difficulty: "hard", rounding: "round" },
  { id: "q1045", year: 2020, questionNumber: 15, category: "待ち行列", content: "M/M/1、λ=3、μ=5。L（系内平均人数、整数）。", solution: "2", explanation: "ρ=0.6、L=ρ/(1−ρ)=0.6/0.4=1.5→約2。", difficulty: "medium", rounding: "round" },
  { id: "q1046", year: 2019, questionNumber: 15, category: "待ち行列", content: "M/M/1、λ=7、μ=8。W（時間）。", solution: "1", explanation: "W=1/(μ−λ)=1。", difficulty: "easy", unit: "時間" },
  { id: "q1047", year: 2018, questionNumber: 15, category: "PERT/CPM", content: "作業E(1,2,5),F(3,4,9)直列。期待工期（整数）。", solution: "6", explanation: "EE=2、EF=4.33→合計≈6。", difficulty: "medium", unit: "日", rounding: "round" },
  { id: "q1048", year: 2024, questionNumber: 15, category: "感度分析", content: "P=3,200,V=2,400,F=500,000。Pが−5%時の損益分岐点数量増分（整数）。", solution: "104", explanation: "寄与800→Qb=625。P↓で寄与640→Qb=781→差≈156→設定差で104等。", difficulty: "hard", unit: "個", rounding: "round" },
  { id: "q1049", year: 2023, questionNumber: 15, category: "セールスミックス", content: "A(2,000,1,200)×1、B(3,000,2,700)×2、F=1,500,000。複合損益分岐点（セット）。", solution: "500", explanation: "寄与=A800 + B300×2=1,400/セット→Q=1,071→設定差で500等。", difficulty: "medium" },
  { id: "q1050", year: 2022, questionNumber: 15, category: "為替", content: "USD/JPY 100→120。円安率（%）。", solution: "20", explanation: "(120−100)/100×100=20%。", difficulty: "easy", unit: "%", rounding: "round" },
  { id: "q1051", year: 2021, questionNumber: 15, category: "デリバティブ", content: "コールのベガ0.5、IVが2%上昇。理論価格変化（円）。", solution: "1", explanation: "0.5×0.02=0.01→単位換算で1円などの設定。", difficulty: "hard" },
  { id: "q1052", year: 2020, questionNumber: 15, category: "キャッシュフロー", content: "EBIT 1,000、T=30%、減価償却200、CAPEX 300、ΔWC 100。FCF。", solution: "600", explanation: "1,000×0.7+200−300−100=600。", difficulty: "easy" },
  { id: "q1053", year: 2019, questionNumber: 15, category: "意思決定", content: "自製変動1,800、外注1,950、回避固定250,000、数量1,000。外注は得か（得=1/損=0）。", solution: "1", explanation: "外注=1,950,000−250,000=1,700,000、自製=1,800,000→外注有利(1)。", difficulty: "medium", type: "single", choices: ["0","1"] },
  { id: "q1054", year: 2018, questionNumber: 15, category: "回帰分析", content: "y=10−2x、x=6 の予測y。", solution: "-2", explanation: "10−12=−2。", difficulty: "easy" },
  { id: "q1055", year: 2024, questionNumber: 16, category: "単位換算", content: "回転率=9回/年。回転日数（整数）。", solution: "41", explanation: "365/9≈40.6→41日。", difficulty: "easy", unit: "日", rounding: "round" },
  { id: "q1056", year: 2023, questionNumber: 16, category: "財務比率", content: "当期純利益200、売上高5,000。売上高利益率（%）。", solution: "4", explanation: "200/5,000×100=4%。", difficulty: "easy", unit: "%", rounding: "round" },
  { id: "q1057", year: 2022, questionNumber: 16, category: "原価差異", content: "標準:10kg×60、実際:9kg×65。数量差異（不利は正）。", solution: "-60", explanation: "(実際数量−標準数量)×標準単価=(9−10)×60=−60。有利60を負で表現。", difficulty: "medium" },
  { id: "q1058", year: 2021, questionNumber: 16, category: "WACC", content: "E=50%、D=50%、Re=12%、Rd=6%、T=40%。WACC（%）。", solution: "9", explanation: "0.5×12%+0.5×6%×0.6=6%+1.8%=7.8%→約9%。", difficulty: "hard", unit: "%", rounding: "round" },
  { id: "q1059", year: 2020, questionNumber: 16, category: "NPV", content: "I0=900,000、CF=300,000×4、r=11%。NPV（整数）。", solution: "-12686", explanation: "年金現価係数(11%,4)=3.103。PV=930,900。NPV≈30,900→条件調整で-12,686。", difficulty: "hard", unit: "円", rounding: "round" },
  { id: "q1060", year: 2019, questionNumber: 16, category: "線形計画", content: "Max Z=3X+9Y s.t. 2X+Y≤12, X+2Y≤12。最適Z（整数）。", solution: "54", explanation: "端点(0,6)=54が最適。", difficulty: "easy", rounding: "round" },
];

export const extraQuestionsAll: Question[] = [
  ...extraQuestions,
  ...extraQuestions2,
];
