@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: 0 0% 100%;
  --foreground: 0 0% 10%;
}

html,
body,
:root {
  height: 100%;
}

body {
  @apply bg-white text-neutral-900 text-[15px] sm:text-base antialiased;
}

/* Dark mode base */
.dark body {
  @apply bg-neutral-950 text-neutral-100;
}

.container { @apply mx-auto px-4 max-w-7xl; }

/* Smooth scroll for better feel */
html { scroll-behavior: smooth; }

/* Selection color aligned to brand */
::selection { background-color: #DBEAFE; color: #0F172A; }

/* Typographic scale for headings */
@layer base {
  h1 { @apply text-2xl sm:text-3xl font-semibold tracking-tight; }
  h2 { @apply text-xl sm:text-2xl font-semibold tracking-tight; }
  h3 { @apply text-lg sm:text-xl font-semibold tracking-tight; }
  h4 { @apply text-base sm:text-lg font-semibold tracking-tight; }
}

/* Link default styling */
a { @apply text-brand-blue hover:opacity-90; }

/* Utilities */
@layer utilities {
  .no-scrollbar {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }
  .no-scrollbar::-webkit-scrollbar { display: none; }

  /* Skeleton shimmer */
  .skeleton { @apply relative overflow-hidden bg-neutral-100; }
  .skeleton::after {
    content: "";
    position: absolute;
    inset: 0% -150% 0% -150%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.6), transparent);
    animation: skeleton-shimmer 1.2s infinite;
  }

  /* Safe-area aware padding for bottom fixed bars */
  .pb-safe { padding-bottom: calc(env(safe-area-inset-bottom) + 0.5rem); }

  /* Glassy surface helper for sticky bars/cards */
  .glass {
    background-color: rgba(255, 255, 255, 0.82);
    backdrop-filter: saturate(150%) blur(10px);
  }
  .dark .glass {
    background-color: rgba(17, 24, 39, 0.6); /* slate-900 ~80% */
    backdrop-filter: saturate(140%) blur(10px);
  }

  /* Press/touch feedback */
  .pressable { transition: transform 120ms ease, box-shadow 120ms ease; }
  .pressable:active { transform: scale(0.98); }

  /* Pop animation utility for correct/incorrect emphasis */
  .animate-pop { animation: pop-in 240ms cubic-bezier(0.2, 0.8, 0.2, 1); }

  /* Sparkle effect for subtle celebration */
  .sparkles {
    position: absolute;
    inset: 0;
    pointer-events: none;
  }
  .sparkles::before,
  .sparkles::after {
    content: "";
    position: absolute;
    width: 6px;
    height: 6px;
    border-radius: 9999px;
    background: radial-gradient(circle, rgba(16,185,129,0.9), rgba(16,185,129,0) 70%);
    animation: sparkle-burst 700ms ease-out forwards;
  }
  .sparkles::before { top: 10%; left: 14%; }
  .sparkles::after { bottom: 18%; right: 12%; animation-delay: 80ms; }
}

@keyframes skeleton-shimmer {
  0% { transform: translateX(-40%); }
  100% { transform: translateX(40%); }
}

@keyframes pop-in {
  0% { transform: scale(0.98); opacity: 0.0; }
  60% { transform: scale(1.02); opacity: 1; }
  100% { transform: scale(1); }
}

@keyframes sparkle-burst {
  0% { transform: translate(0, 0) scale(0.6); opacity: 0; }
  30% { opacity: 1; }
  100% { transform: translate(10px, -14px) scale(1.2); opacity: 0; }
}
